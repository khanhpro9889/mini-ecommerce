{"version":3,"file":"static/js/203.e05c9607.chunk.js","mappings":"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","sources":["components/ProductItem/ProductItem.tsx","components/ProductItem/index.tsx","components/ProductsDisplay/index.tsx","components/ProductsDisplay/ProductDisplay.tsx","utils/hooks/useAppDispatch.tsx","routers/Home/Home.tsx"],"sourcesContent":["import React from \"react\";\r\nimport { Card, Skeleton } from \"antd\";\r\nimport { FullscreenOutlined, ShoppingCartOutlined } from \"@ant-design/icons\";\r\nimport { productType } from \"../../routers/Category/Category\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { SINGLE_PATH_NO_ID } from \"../../constants/path\";\r\nconst { Meta } = Card;\r\n\r\ntype propsType = {\r\n  item: productType;\r\n  loading: boolean;\r\n  addToCartStore: (item: productType) => void;\r\n};\r\nexport default function ProductItem({\r\n  item,\r\n  addToCartStore,\r\n  loading,\r\n}: propsType) {\r\n  const navigate = useNavigate();\r\n  return (\r\n    <>\r\n      {loading ? (\r\n        <Skeleton active />\r\n      ) : (\r\n        <Card\r\n          cover={<img alt=\"example\" src={item.images[0]} />}\r\n          actions={[\r\n            <ShoppingCartOutlined\r\n              key=\"cart\"\r\n              onClick={() => addToCartStore(item)}\r\n            />,\r\n            <FullscreenOutlined\r\n              onClick={() => navigate(`/product/${item.id}`)}\r\n              key=\"detail\"\r\n            />,\r\n          ]}\r\n        >\r\n          <Meta\r\n            title={\r\n              <Link to={`${SINGLE_PATH_NO_ID}/${item.id}`}>\r\n                <strong>{item.title}</strong>\r\n              </Link>\r\n            }\r\n          />\r\n          <Meta title={`${item.price}$`} />\r\n        </Card>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import ProductItem from \"./ProductItem\";\r\n\r\nexport default ProductItem;\r\n","import ProductDisplay from \"./ProductDisplay\";\r\n\r\nexport default ProductDisplay;\r\n","import { Col, message, Pagination, PaginationProps, Row } from \"antd\";\r\nimport React, { useEffect } from \"react\";\r\nimport { productType } from \"../../routers/Category/Category\";\r\nimport ProductItem from \"../ProductItem\";\r\nimport { useNavigate, useSearchParams } from \"react-router-dom\";\r\nimport { addToCart } from \"../../store/Cart/Slices\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { CATEGORY_PATH_NO_ID, HOME_PATH } from \"../../constants/path\";\r\nimport { useAppDispatch } from \"../../utils/hooks/useAppDispatch\";\r\nimport { getAllUsers } from \"../../store/Users/Slices\";\r\n\r\ntype propsType = {\r\n  loading: boolean;\r\n  products: productType[];\r\n  currentPage: number;\r\n  total: number;\r\n  setCurrentPage: (page: number) => void;\r\n  isCategory?: string;\r\n};\r\n\r\nexport default function ProductDisplay({\r\n  products,\r\n  loading,\r\n  currentPage,\r\n  setCurrentPage,\r\n  total,\r\n  isCategory,\r\n}: propsType) {\r\n  const navigate = useNavigate();\r\n  // eslint-disable-next-line\r\n  const [pageParams, setPageParams] = useSearchParams();\r\n  const dispatch = useDispatch();\r\n  const appDispatch = useAppDispatch();\r\n\r\n  const onChangePage: PaginationProps[\"onChange\"] = (current, pageSize) => {\r\n    setCurrentPage(current);\r\n    if (isCategory) {\r\n      return navigate({\r\n        pathname: `${CATEGORY_PATH_NO_ID}/${isCategory}`,\r\n        search: `?page=${current}`,\r\n      });\r\n    }\r\n    navigate({\r\n      pathname: HOME_PATH,\r\n      search: `?page=${current}`,\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    let pageFromUrl = pageParams.get(\"page\");\r\n    let pageInt: number;\r\n    if (pageFromUrl) {\r\n      pageInt = parseInt(pageFromUrl);\r\n    } else {\r\n      pageInt = 1;\r\n    }\r\n    setCurrentPage(pageInt);\r\n    appDispatch(getAllUsers());\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  const addToCartStore = (item: productType) => {\r\n    message.success(\"Added to cart\");\r\n    dispatch(addToCart(item));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Row gutter={[16, 16]} className=\"min-height\">\r\n        {products.map((item) => {\r\n          return (\r\n            <Col\r\n              key={item.id}\r\n              className=\"gutter-row\"\r\n              lg={6}\r\n              md={8}\r\n              sm={8}\r\n              xs={12}\r\n            >\r\n              <ProductItem\r\n                addToCartStore={addToCartStore}\r\n                loading={loading}\r\n                item={item}\r\n              />\r\n            </Col>\r\n          );\r\n        })}\r\n      </Row>\r\n      <div className=\"horizontal-center pagination heading\">\r\n        <Pagination\r\n          showTotal={(total) => `Total ${total} products`}\r\n          defaultPageSize={10}\r\n          onChange={onChangePage}\r\n          current={currentPage}\r\n          total={total}\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","// app/hooks.ts\r\n//use for dispatch async actions thunk\r\nimport { TypedUseSelectorHook, useDispatch, useSelector } from \"react-redux\";\r\nimport type { RootState, AppDispatch } from \"../../store\";\r\n\r\n// Use throughout your app instead of plain `useDispatch` and `useSelector`\r\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\r\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Typography } from \"antd\";\r\nimport { categoryType } from \"../../layouts/MainLayout/MainLayout\";\r\nimport ProductDisplay from \"../../components/ProductsDisplay\";\r\nconst { Title } = Typography;\r\n\r\nexport type productType = {\r\n  id: number;\r\n  title: string;\r\n  price: number;\r\n  description: string;\r\n  category: categoryType;\r\n  images: string[];\r\n};\r\n\r\nexport default function Home() {\r\n  const [products, setProducts] = useState<productType[]>([]);\r\n  const [total, setTotal] = useState<number>(0);\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const [currentPage, setCurrentPage] = useState<number>(1);\r\n\r\n  const getAllProducts = async (currentPage: number) => {\r\n    const perPage = 10;\r\n    setLoading(true);\r\n    const res = await fetch(\r\n      `https://api.escuelajs.co/api/v1/products?offset=${\r\n        (currentPage - 1) * perPage\r\n      }&limit=${perPage}`\r\n    );\r\n    const data = await res.json();\r\n    const res1 = await fetch(\"https://api.escuelajs.co/api/v1/products\");\r\n    const data1 = await res1.json();\r\n\r\n    setLoading(false);\r\n    setTotal(data1.length);\r\n    setProducts(data);\r\n  };\r\n\r\n  useEffect(() => {\r\n    getAllProducts(currentPage);\r\n  }, [currentPage]);\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"horizontal-center heading\">\r\n        <Title>All Products</Title>\r\n      </div>\r\n      <ProductDisplay\r\n        products={products}\r\n        loading={loading}\r\n        setCurrentPage={(current) => setCurrentPage(current)}\r\n        total={total}\r\n        currentPage={currentPage}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n"],"names":["Meta","Card","item","addToCartStore","loading","navigate","useNavigate","active","cover","alt","src","images","actions","ShoppingCartOutlined","onClick","FullscreenOutlined","id","title","to","SINGLE_PATH_NO_ID","price","products","currentPage","setCurrentPage","total","isCategory","useSearchParams","pageParams","dispatch","useDispatch","appDispatch","useEffect","pageInt","pageFromUrl","get","parseInt","getAllUsers","message","addToCart","gutter","className","map","lg","md","sm","xs","showTotal","defaultPageSize","onChange","current","pageSize","pathname","CATEGORY_PATH_NO_ID","search","HOME_PATH","Title","Typography","Home","useState","setProducts","setTotal","setLoading","getAllProducts","fetch","res","json","data","res1","data1","length"],"sourceRoot":""}